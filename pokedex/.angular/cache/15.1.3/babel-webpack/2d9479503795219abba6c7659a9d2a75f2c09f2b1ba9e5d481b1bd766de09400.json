{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet DetailComponent = class DetailComponent {\n  constructor(pokemonId, servicio) {\n    this.pokemonId = pokemonId;\n    this.servicio = servicio;\n    this.pokemonIdUrl = '';\n    this.pokemonBasics = {\n      id: 0,\n      name: '',\n      type: [],\n      sprite: '',\n      fav: false\n    };\n    this.pokemonDetail = {\n      id: 0\n    };\n  } //recibe por ur.\n  pokemonExtendedInfo() {}\n  getPokemonBasics() {\n    this.servicio.getInfoOnePokemon('', this.pokemonBasics.id, true).subscribe(response => {\n      this.pokemonBasics = {\n        id: response.id,\n        name: response.name,\n        type: response.types,\n        sprite: response.id < 151 ? 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-i/red-blue/transparent/' + response.id + '.png' : 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/' + response.id + '.png'\n      };\n      this.pokemonDetail = {\n        id: response.id,\n        height: response.height,\n        weight: response.weight\n      };\n      console.log(this.pokemonDetail);\n    });\n  }\n  getPokemonDetailInfo(id) {\n    this.servicio.getPokedex(id).subscribe(response => {\n      this.pokemonDetail.genera = response.genera.filter(v => v.language.name === 'en').map(v => v.genus).toString();\n      this.pokemonDetail.flavourText = response.flavor_text_entries[0].flavor_text;\n      this.pokemonDetail.habitat = response.habitat.name;\n      console.log(this.pokemonDetail);\n      this.servicio.getEvolution(response.evolution_chain.url).subscribe(response => {\n        let allEvolutionsNames = [];\n        let currentEvolution = response.chain;\n        while (currentEvolution) {\n          allEvolutionsNames.push(currentEvolution.species.name);\n          currentEvolution = currentEvolution.evolves_to[0];\n        }\n        this.pokemonDetail.evolution = allEvolutionsNames;\n      });\n    });\n    this.servicio.getRegion(id).subscribe(response => {\n      this.pokemonDetail.region = response.regions[0].name;\n    });\n  }\n  ngOnInit() {\n    const idUrl = this.pokemonId.snapshot.paramMap.get('pokemonid');\n    this.pokemonBasics.id = idUrl ? parseInt(idUrl) : 0;\n    this.getPokemonBasics();\n    this.getPokemonDetailInfo(this.pokemonBasics.id);\n    console.log(this.pokemonDetail);\n  }\n};\nDetailComponent = __decorate([Component({\n  selector: 'app-detail',\n  templateUrl: './detail.component.html',\n  styleUrls: ['./detail.component.css']\n})], DetailComponent);\nexport { DetailComponent };","map":{"version":3,"mappings":"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","names":["Component","DetailComponent","constructor","pokemonId","servicio","id","name","type","sprite","fav","pokemonExtendedInfo","getPokemonBasics","getInfoOnePokemon","pokemonBasics","subscribe","response","types","pokemonDetail","height","weight","console","log","getPokemonDetailInfo","getPokedex","genera","filter","v","language","map","genus","toString","flavourText","flavor_text_entries","flavor_text","habitat","getEvolution","evolution_chain","url","allEvolutionsNames","currentEvolution","chain","push","species","evolves_to","evolution","getRegion","region","regions","ngOnInit","idUrl","snapshot","paramMap","get","parseInt","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["E:\\Arvo\\Documents\\DAWRepo\\onestic\\onesticFront\\pokedex\\src\\app\\views\\detail\\detail.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { DataService } from 'src/app/services/data.service';\n\nimport { DetailPokemonInterface, ListPokemonInterface } from 'src/app/interface/listPokemonInterface';\n\n@Component({\n  selector: 'app-detail',\n  templateUrl: './detail.component.html',\n  styleUrls: ['./detail.component.css']\n})\nexport class DetailComponent {\n  constructor(private pokemonId: ActivatedRoute, public servicio: DataService) { } //recibe por ur.\n\n  public pokemonIdUrl: string | null = ''\n  public pokemonBasics: ListPokemonInterface = { id: 0, name: '', type: [], sprite: '', fav: false };\n  public pokemonDetail : DetailPokemonInterface = {id: 0}\n  public pokemonExtendedInfo(): void {\n\n  }\n\n  public getPokemonBasics() : void {\n\n    this.servicio.getInfoOnePokemon('', this.pokemonBasics.id, true).subscribe((response) => {\n\n      this.pokemonBasics = {\n        id: response.id,\n        name: response.name,\n        type: response.types,\n        sprite: (response.id < 151)\n          ? 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-i/red-blue/transparent/' + response.id + '.png'\n          : 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/' + response.id + '.png'\n      };\n      this.pokemonDetail = {\n        id: response.id,\n        height: response.height,\n        weight: response.weight\n\n      }\n      console.log(this.pokemonDetail)\n    });\n  }\n  public getPokemonDetailInfo(id : number) : void {\n\n    this.servicio.getPokedex(id).subscribe((response) => {\n\n      this.pokemonDetail.genera = response.genera.filter(v  => (v.language.name === 'en')).map( v => v.genus).toString();\n      this.pokemonDetail.flavourText = response.flavor_text_entries[0].flavor_text;\n      this.pokemonDetail.habitat = response.habitat.name;\n      console.log(this.pokemonDetail);\n\n      this.servicio.getEvolution(response.evolution_chain.url).subscribe((response) => {\n        let allEvolutionsNames = []\n        let currentEvolution = response.chain;\n        while(currentEvolution){\n          allEvolutionsNames.push(currentEvolution.species.name);\n          currentEvolution = currentEvolution.evolves_to[0];\n        }\n        this.pokemonDetail.evolution = allEvolutionsNames;\n      })\n    });\n\n    this.servicio.getRegion(id).subscribe ((response) => {\n      this.pokemonDetail.region = response.regions[0].name;\n    })\n  }\n\n  ngOnInit(){\n    const idUrl = this.pokemonId.snapshot.paramMap.get('pokemonid');\n    this.pokemonBasics.id = (idUrl) ? parseInt(idUrl) : 0;\n    this.getPokemonBasics();\n    this.getPokemonDetailInfo(this.pokemonBasics.id);\n    console.log(this.pokemonDetail);\n\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}