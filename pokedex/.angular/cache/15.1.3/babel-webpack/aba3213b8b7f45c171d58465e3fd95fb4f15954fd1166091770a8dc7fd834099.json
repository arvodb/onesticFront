{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/data.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../../components/header-list/header-list.component\";\nimport * as i5 from \"../../components/nav-list/nav-list.component\";\nimport * as i6 from \"../../components/card/card.component\";\nfunction ListComponent_div_4_2_ng_template_0_Template(rf, ctx) {}\nfunction ListComponent_div_4_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, ListComponent_div_4_2_ng_template_0_Template, 0, 0, \"ng-template\");\n  }\n}\nfunction ListComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"a\", 5);\n    i0.ɵɵtemplate(2, ListComponent_div_4_2_Template, 1, 0, null, 6);\n    i0.ɵɵelementStart(3, \"app-card\", 7);\n    i0.ɵɵlistener(\"sendFavourite\", function ListComponent_div_4_Template_app_card_sendFavourite_3_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.checkThisLocal());\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const pokemon_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitch\", ctx_r0.vista);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"card\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"pokemonId\", pokemon_r1.id)(\"pokemonName\", pokemon_r1.name)(\"pokemonTypes\", pokemon_r1.type)(\"pokemonSprite\", pokemon_r1.sprite)(\"fav\", pokemon_r1.fav);\n  }\n}\nexport class ListComponent {\n  constructor(urlPage, servicio) {\n    this.urlPage = urlPage;\n    this.servicio = servicio;\n    this.vista = 'card'; //list\n    this.pag = {\n      offset: 0,\n      limit: 8,\n      current: 1,\n      total: 0\n    };\n    this.pokemonList = [];\n    this.pokemonListRequest = [];\n    this.pokemonName = '';\n    this.pokemonUrl = '';\n    this.localStorage = {\n      pagination: 1,\n      fav: [],\n      dark: false,\n      listFav: false\n    };\n    this.darkEmision = new EventEmitter();\n  }\n  listPokemon(isFav = false) {\n    const data = localStorage.getItem('info');\n    let favLocal = data ? JSON.parse(data).fav : this.localStorage;\n    if (isFav) {\n      let maxValue = favLocal.length > 0 ? favLocal.reduce((a, b) => Math.max(a, b)) : 0;\n      this.servicio.getPagination(0, maxValue).subscribe(response => {\n        this.pokemonListRequest = response.results;\n        this.pag.total = Math.floor(response.count / this.pag.limit);\n        this.pokemonList = [];\n        this.pokemonListRequest.map(v => {\n          this.servicio.getInfoOnePokemon(v.url).subscribe(response => {\n            if (favLocal.some(v => v == response.id)) {\n              this.pokemonList.push({\n                id: response.id,\n                name: response.name,\n                type: response.types,\n                sprite: response.id < 151 ? 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-i/red-blue/transparent/' + response.id + '.png' : 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/' + response.id + '.png',\n                fav: true\n              });\n            }\n          });\n        });\n      });\n    } else {\n      this.servicio.getPagination(this.pag.offset, this.pag.limit).subscribe(response => {\n        this.pokemonListRequest = response.results;\n        this.pag.total = Math.floor(response.count / this.pag.limit);\n        this.pokemonList = [];\n        this.pokemonListRequest.map(v => {\n          this.servicio.getInfoOnePokemon(v.url).subscribe(response => {\n            this.pokemonList.push({\n              id: response.id,\n              name: response.name,\n              type: response.types,\n              sprite: response.id < 151 ? 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-i/red-blue/transparent/' + response.id + '.png' : 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/' + response.id + '.png',\n              fav: favLocal.filter(v => v == response.id).length > 0 ? true : false\n            });\n          });\n        });\n      });\n    }\n  }\n  cntrlPages(isNext) {\n    if (isNext) {\n      this.pag.current++;\n      this.pag.current < this.pag.total ? this.pag.offset += this.pag.limit : this.pag.current = this.pag.total;\n    } else if (!isNext) {\n      this.pag.current--;\n      this.pag.current >= 1 ? this.pag.offset -= this.pag.limit : this.pag.current = 1;\n    }\n    this.localStorage.pagination = this.pag.current;\n    this.saveLocalStorage();\n    this.listPokemon();\n  }\n  darkMode(bool) {\n    this.localStorage.dark = bool;\n    this.saveLocalStorage();\n    console.log(this.localStorage.dark);\n  }\n  saveLocalStorage() {\n    localStorage.setItem('info', JSON.stringify(this.localStorage));\n  }\n  getLocalStorage() {\n    const data = localStorage.getItem('info');\n    return data ? JSON.parse(data) : this.localStorage;\n  }\n  checkThisLocal() {\n    this.localStorage = this.getLocalStorage();\n  }\n  listFavourites(bool) {\n    this.localStorage.listFav = bool;\n    this.saveLocalStorage();\n    this.listPokemon(bool);\n  }\n  ngOnInit() {\n    this.localStorage = this.getLocalStorage();\n    const pagUrl = this.urlPage.snapshot.paramMap.get('urlPage');\n    if (pagUrl) {\n      this.localStorage.pagination = parseInt(pagUrl);\n      this.saveLocalStorage();\n    }\n    this.pag.current = pagUrl ? parseInt(pagUrl) : this.getLocalStorage().pagination;\n    this.pag.offset = (this.pag.current - 1) * this.pag.limit;\n    this.listPokemon();\n  }\n}\nListComponent.ɵfac = function ListComponent_Factory(t) {\n  return new (t || ListComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.DataService));\n};\nListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListComponent,\n  selectors: [[\"app-list\"]],\n  outputs: {\n    darkEmision: \"darkEmision\"\n  },\n  decls: 5,\n  vars: 2,\n  consts: [[3, \"pag\", \"pagination\", \"darkEmision\", \"listFavourites\"], [1, \"container-fluid\"], [1, \"row\", \"py-2\"], [\"class\", \"col-lg-3 col-md-6 col-sm-6 py-3\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-lg-3\", \"col-md-6\", \"col-sm-6\", \"py-3\"], [1, \"\", 3, \"ngSwitch\"], [4, \"ngSwitchCase\"], [1, \"animated\", 3, \"pokemonId\", \"pokemonName\", \"pokemonTypes\", \"pokemonSprite\", \"fav\", \"sendFavourite\"]],\n  template: function ListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-header-list\");\n      i0.ɵɵelementStart(1, \"app-nav-list\", 0);\n      i0.ɵɵlistener(\"pagination\", function ListComponent_Template_app_nav_list_pagination_1_listener($event) {\n        return ctx.cntrlPages($event);\n      })(\"darkEmision\", function ListComponent_Template_app_nav_list_darkEmision_1_listener($event) {\n        return ctx.darkMode($event);\n      })(\"listFavourites\", function ListComponent_Template_app_nav_list_listFavourites_1_listener($event) {\n        return ctx.listFavourites($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 1)(3, \"div\", 2);\n      i0.ɵɵtemplate(4, ListComponent_div_4_Template, 4, 7, \"div\", 3);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"pag\", ctx.pag);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.pokemonList);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgSwitch, i3.NgSwitchCase, i4.HeaderListComponent, i5.NavListComponent, i6.CardComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAAA,SAAoBA,YAAY,QAAgB,eAAe;;;;;;;;;;;ICavDC,mFAAkD;;;;;;IAFtDA,8BAAkF;IAE9EA,+DAAkD;IAClDA,mCAOD;IADCA;MAAAA;MAAA;MAAA,OAAiBA,sCAAgB;IAAA,EAAC;IACnCA,iBAAW;;;;;IATAA,eAAkB;IAAlBA,uCAAkB;IACdA,eAAoB;IAApBA,qCAAoB;IAElCA,eAAwB;IAAxBA,yCAAwB;;;ADIhC,OAAM,MAAOC,aAAa;EACxBC,YAAoBC,OAAuB,EAASC,QAAqB;IAArD,YAAO,GAAPD,OAAO;IAAyB,aAAQ,GAARC,QAAQ;IACrD,UAAK,GAAY,MAAM,EAAC;IACxB,QAAG,GAAsE;MAC9EC,MAAM,EAAE,CAAC;MACTC,KAAK,EAAE,CAAC;MACRC,OAAO,EAAE,CAAC;MACVC,KAAK,EAAE;KACR;IACM,gBAAW,GAA2B,EAAE;IACxC,uBAAkB,GAAa,EAAE;IACjC,gBAAW,GAAW,EAAE;IACxB,eAAU,GAAW,EAAE;IACvB,iBAAY,GAAyE;MAC1FC,UAAU,EAAE,CAAC;MACbC,GAAG,EAAE,EAAE;MACPC,IAAI,EAAE,KAAK;MACXC,OAAO,EAAE;KACV;IAES,gBAAW,GAAG,IAAIb,YAAY,EAAW;EAnB0B;EAsBtEc,WAAW,CAACC,QAAiB,KAAK;IACvC,MAAMC,IAAI,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IACzC,IAAIC,QAAQ,GAAGH,IAAI,GAAGI,IAAI,CAACC,KAAK,CAACL,IAAI,CAAC,CAACL,GAAG,GAAG,IAAI,CAACM,YAAY;IAE9D,IAAGF,KAAK,EAAC;MACP,IAAIO,QAAQ,GAAYH,QAAQ,CAACI,MAAM,GAAG,CAAC,GAAIJ,QAAQ,CAACK,MAAM,CAAC,CAACC,CAAS,EAAEC,CAAS,KAAKC,IAAI,CAACC,GAAG,CAACH,CAAC,EAACC,CAAC,CAAC,CAAC,GAAG,CAAC;MAC3G,IAAI,CAACrB,QAAQ,CAACwB,aAAa,CAAC,CAAC,EAAEP,QAAQ,CAAC,CAACQ,SAAS,CAAEC,QAAQ,IAAI;QAC9D,IAAI,CAACC,kBAAkB,GAAGD,QAAQ,CAACE,OAAO;QAC1C,IAAI,CAACC,GAAG,CAACzB,KAAK,GAAGkB,IAAI,CAACQ,KAAK,CAACJ,QAAQ,CAACK,KAAK,GAAG,IAAI,CAACF,GAAG,CAAC3B,KAAK,CAAC;QAC5D,IAAI,CAAC8B,WAAW,GAAG,EAAE;QACrB,IAAI,CAACL,kBAAkB,CAACM,GAAG,CAAEC,CAAC,IAAI;UAChC,IAAI,CAAClC,QAAQ,CAACmC,iBAAiB,CAACD,CAAC,CAACE,GAAG,CAAC,CAACX,SAAS,CAAEC,QAAQ,IAAI;YAC1D,IAAIZ,QAAQ,CAACuB,IAAI,CAAEH,CAAS,IAAKA,CAAC,IAAIR,QAAQ,CAACY,EAAE,CAAC,EAAE;cAClD,IAAI,CAACN,WAAW,CAACO,IAAI,CAAC;gBACpBD,EAAE,EAAEZ,QAAQ,CAACY,EAAE;gBACfE,IAAI,EAAEd,QAAQ,CAACc,IAAI;gBACnBC,IAAI,EAAEf,QAAQ,CAACgB,KAAK;gBACpBC,MAAM,EAAGjB,QAAQ,CAACY,EAAE,GAAG,GAAG,GACtB,sHAAsH,GAAGZ,QAAQ,CAACY,EAAE,GAAG,MAAM,GAC7I,kGAAkG,GAAGZ,QAAQ,CAACY,EAAE,GAAG,MAAM;gBAC7HhC,GAAG,EAAE;eACN,CAAC;;UAER,CAAC,CAAC;QACJ,CAAC,CAAC;MACJ,CAAC,CAAC;KACH,MAAK;MACJ,IAAI,CAACN,QAAQ,CAACwB,aAAa,CAAC,IAAI,CAACK,GAAG,CAAC5B,MAAM,EAAE,IAAI,CAAC4B,GAAG,CAAC3B,KAAK,CAAC,CAACuB,SAAS,CAAEC,QAAQ,IAAI;QAClF,IAAI,CAACC,kBAAkB,GAAGD,QAAQ,CAACE,OAAO;QAC1C,IAAI,CAACC,GAAG,CAACzB,KAAK,GAAGkB,IAAI,CAACQ,KAAK,CAACJ,QAAQ,CAACK,KAAK,GAAG,IAAI,CAACF,GAAG,CAAC3B,KAAK,CAAC;QAC5D,IAAI,CAAC8B,WAAW,GAAG,EAAE;QACrB,IAAI,CAACL,kBAAkB,CAACM,GAAG,CAAEC,CAAC,IAAI;UAChC,IAAI,CAAClC,QAAQ,CAACmC,iBAAiB,CAACD,CAAC,CAACE,GAAG,CAAC,CAACX,SAAS,CAAEC,QAAQ,IAAI;YAC1D,IAAI,CAACM,WAAW,CAACO,IAAI,CAAC;cACpBD,EAAE,EAAEZ,QAAQ,CAACY,EAAE;cACfE,IAAI,EAAEd,QAAQ,CAACc,IAAI;cACnBC,IAAI,EAAEf,QAAQ,CAACgB,KAAK;cACpBC,MAAM,EAAGjB,QAAQ,CAACY,EAAE,GAAG,GAAG,GACtB,sHAAsH,GAAGZ,QAAQ,CAACY,EAAE,GAAG,MAAM,GAC7I,kGAAkG,GAAGZ,QAAQ,CAACY,EAAE,GAAG,MAAM;cAC7HhC,GAAG,EAAGQ,QAAQ,CAAC8B,MAAM,CAAEV,CAAS,IAAKA,CAAC,IAAIR,QAAQ,CAACY,EAAE,CAAC,CAACpB,MAAM,GAAG,CAAC,GAAI,IAAI,GAAG;aAC7E,CAAC;UACJ,CAAC,CAAC;QACJ,CAAC,CAAC;MACJ,CAAC,CAAC;;EAGR;EAKO2B,UAAU,CAACC,MAAe;IACjC,IAAGA,MAAM,EAAE;MACT,IAAI,CAACjB,GAAG,CAAC1B,OAAO,EAAE;MACjB,IAAI,CAAC0B,GAAG,CAAC1B,OAAO,GAAG,IAAI,CAAC0B,GAAG,CAACzB,KAAK,GAAI,IAAI,CAACyB,GAAG,CAAC5B,MAAM,IAAI,IAAI,CAAC4B,GAAG,CAAC3B,KAAK,GAAG,IAAI,CAAC2B,GAAG,CAAC1B,OAAO,GAAG,IAAI,CAAC0B,GAAG,CAACzB,KAAK;KAC5G,MAAM,IAAG,CAAC0C,MAAM,EAAE;MACjB,IAAI,CAACjB,GAAG,CAAC1B,OAAO,EAAE;MACjB,IAAI,CAAC0B,GAAG,CAAC1B,OAAO,IAAI,CAAC,GAAI,IAAI,CAAC0B,GAAG,CAAC5B,MAAM,IAAI,IAAI,CAAC4B,GAAG,CAAC3B,KAAK,GAAG,IAAI,CAAC2B,GAAG,CAAC1B,OAAO,GAAG,CAAC;;IAElF,IAAI,CAACS,YAAY,CAACP,UAAU,GAAG,IAAI,CAACwB,GAAG,CAAC1B,OAAO;IACjD,IAAI,CAAC4C,gBAAgB,EAAE;IACvB,IAAI,CAACtC,WAAW,EAAE;EACpB;EAESuC,QAAQ,CAACC,IAAa;IAC7B,IAAI,CAACrC,YAAY,CAACL,IAAI,GAAG0C,IAAI;IAC3B,IAAI,CAACF,gBAAgB,EAAE;IACzBG,OAAO,CAACC,GAAG,CAAC,IAAI,CAACvC,YAAY,CAACL,IAAI,CAAC;EAErC;EAESwC,gBAAgB;IACvBnC,YAAY,CAACwC,OAAO,CAAC,MAAM,EAAErC,IAAI,CAACsC,SAAS,CAAC,IAAI,CAACzC,YAAY,CAAC,CAAC;EACjE;EAES0C,eAAe;IACtB,MAAM3C,IAAI,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IACzC,OAAOF,IAAI,GAAGI,IAAI,CAACC,KAAK,CAACL,IAAI,CAAC,GAAG,IAAI,CAACC,YAAY;EACpD;EACS2C,cAAc;IACrB,IAAI,CAAC3C,YAAY,GAAG,IAAI,CAAC0C,eAAe,EAAE;EAC5C;EACSE,cAAc,CAACP,IAAa;IACjC,IAAI,CAACrC,YAAY,CAACJ,OAAO,GAAGyC,IAAI;IAChC,IAAI,CAACF,gBAAgB,EAAE;IACvB,IAAI,CAACtC,WAAW,CAACwC,IAAI,CAAC;EAC1B;EAEAQ,QAAQ;IACN,IAAI,CAAC7C,YAAY,GAAG,IAAI,CAAC0C,eAAe,EAAE;IAE1C,MAAMI,MAAM,GAAG,IAAI,CAAC3D,OAAO,CAAC4D,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,SAAS,CAAC;IAC5D,IAAGH,MAAM,EAAE;MACT,IAAI,CAAC9C,YAAY,CAACP,UAAU,GAAGyD,QAAQ,CAACJ,MAAM,CAAC;MAC/C,IAAI,CAACX,gBAAgB,EAAE;;IAEvB,IAAI,CAAClB,GAAG,CAAC1B,OAAO,GAAIuD,MAAM,GAAII,QAAQ,CAACJ,MAAM,CAAC,GAAG,IAAI,CAACJ,eAAe,EAAE,CAACjD,UAAU;IACpF,IAAI,CAACwB,GAAG,CAAC5B,MAAM,GAAG,CAAC,IAAI,CAAC4B,GAAG,CAAC1B,OAAO,GAAG,CAAC,IAAI,IAAI,CAAC0B,GAAG,CAAC3B,KAAK;IACzD,IAAI,CAACO,WAAW,EAAE;EAEpB;;AA5HaZ,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAAkE;EAAAC;IAAAC;EAAA;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MClB1BzE,kCAAmC;MACnCA,uCAMC;MAJCA;QAAA,OAAc0E,sBAAkB;MAAA,EAAC;QAAA,OAClBA,oBAAgB;MAAA,EADE;QAAA,OAEfA,0BAAsB;MAAA,EAFP;MAIlC1E,iBAAe;MAChBA,8BAA6B;MAEzBA,8DAYM;MACRA,iBAAM;;;MArBNA,eAAW;MAAXA,6BAAW;MAQiBA,eAAc;MAAdA,yCAAc","names":["EventEmitter","i0","ListComponent","constructor","urlPage","servicio","offset","limit","current","total","pagination","fav","dark","listFav","listPokemon","isFav","data","localStorage","getItem","favLocal","JSON","parse","maxValue","length","reduce","a","b","Math","max","getPagination","subscribe","response","pokemonListRequest","results","pag","floor","count","pokemonList","map","v","getInfoOnePokemon","url","some","id","push","name","type","types","sprite","filter","cntrlPages","isNext","saveLocalStorage","darkMode","bool","console","log","setItem","stringify","getLocalStorage","checkThisLocal","listFavourites","ngOnInit","pagUrl","snapshot","paramMap","get","parseInt","selectors","outputs","darkEmision","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["E:\\Arvo\\Documents\\DAWRepo\\onestic\\onesticFront\\pokedex\\src\\app\\views\\list\\list.component.ts","E:\\Arvo\\Documents\\DAWRepo\\onestic\\onesticFront\\pokedex\\src\\app\\views\\list\\list.component.html"],"sourcesContent":["import { Component, EventEmitter, Output } from '@angular/core';\n\nimport { DataService } from 'src/app/services/data.service';\n\nimport { Detail } from 'src/app/interface/list';\nimport { ListPokemonInterface } from 'src/app/interface/listPokemonInterface';\n\n\nimport { ActivatedRoute } from '@angular/router';\n\n\n\n\n\n@Component({\n  selector: 'app-list',\n  templateUrl: './list.component.html',\n  styleUrls: ['./list.component.css']\n})\nexport class ListComponent {\n  constructor(private urlPage: ActivatedRoute, public servicio: DataService) { }\n  public vista : string = 'card' //list\n  public pag: { offset: number, limit: number, current: number, total: number } = {\n    offset: 0, //max value = 1260\n    limit: 8,\n    current: 1, //max value = 63\n    total: 0\n  }\n  public pokemonList: ListPokemonInterface[] = []\n  public pokemonListRequest: Detail[] = [];\n  public pokemonName: string = '';\n  public pokemonUrl: string = '';\n  public localStorage: { pagination: number, fav: number[], dark: boolean,listFav:boolean } = {\n    pagination: 1,\n    fav: [],\n    dark: false,\n    listFav: false\n  }\n\n  @Output() darkEmision = new EventEmitter<boolean>();\n\n\n  public listPokemon(isFav: boolean = false): void {\n    const data = localStorage.getItem('info');\n    let favLocal = data ? JSON.parse(data).fav : this.localStorage;\n\n    if(isFav){\n      let maxValue :number = (favLocal.length > 0) ? favLocal.reduce((a: number, b: number) => Math.max(a,b)) : 0;\n      this.servicio.getPagination(0, maxValue).subscribe((response) => {\n        this.pokemonListRequest = response.results;\n        this.pag.total = Math.floor(response.count / this.pag.limit);\n        this.pokemonList = [];\n        this.pokemonListRequest.map((v) => {\n          this.servicio.getInfoOnePokemon(v.url).subscribe((response) => {\n              if (favLocal.some((v: number) => v == response.id)) {\n                this.pokemonList.push({\n                  id: response.id,\n                  name: response.name,\n                  type: response.types,\n                  sprite: (response.id < 151)\n                    ? 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-i/red-blue/transparent/' + response.id + '.png'\n                    : 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/' + response.id + '.png',\n                  fav: true\n                });\n              }\n          });\n        });\n      });\n    }else {\n      this.servicio.getPagination(this.pag.offset, this.pag.limit).subscribe((response) => {\n        this.pokemonListRequest = response.results;\n        this.pag.total = Math.floor(response.count / this.pag.limit);\n        this.pokemonList = [];\n        this.pokemonListRequest.map((v) => {\n          this.servicio.getInfoOnePokemon(v.url).subscribe((response) => {\n              this.pokemonList.push({\n                id: response.id,\n                name: response.name,\n                type: response.types,\n                sprite: (response.id < 151)\n                  ? 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-i/red-blue/transparent/' + response.id + '.png'\n                  : 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/' + response.id + '.png',\n                fav: (favLocal.filter((v: number) => v == response.id).length > 0) ? true : false\n              });\n            });\n          });\n        });\n    }\n\n  }\n\n\n\n\n  public cntrlPages(isNext: boolean): void {\n  if(isNext) {\n    this.pag.current++;\n    (this.pag.current < this.pag.total) ? this.pag.offset += this.pag.limit : this.pag.current = this.pag.total;\n  } else if(!isNext) {\n    this.pag.current--;\n    (this.pag.current >= 1) ? this.pag.offset -= this.pag.limit : this.pag.current = 1\n  }\n    this.localStorage.pagination = this.pag.current;\n  this.saveLocalStorage();\n  this.listPokemon();\n}\n\n  public darkMode(bool: boolean): void {\n  this.localStorage.dark = bool\n    this.saveLocalStorage();\n  console.log(this.localStorage.dark);\n\n}\n\n  public saveLocalStorage(): void {\n  localStorage.setItem('info', JSON.stringify(this.localStorage));\n}\n\n  public getLocalStorage(): { pagination: number, fav: number[], dark: boolean, listFav:boolean } {\n  const data = localStorage.getItem('info');\n  return data ? JSON.parse(data) : this.localStorage;\n}\n  public checkThisLocal(): void {\n  this.localStorage = this.getLocalStorage();\n}\n  public listFavourites(bool: boolean): void {\n    this.localStorage.listFav = bool;\n    this.saveLocalStorage();\n    this.listPokemon(bool);\n}\n\nngOnInit(): void {\n  this.localStorage = this.getLocalStorage();\n\n  const pagUrl = this.urlPage.snapshot.paramMap.get('urlPage');\n  if(pagUrl) {\n    this.localStorage.pagination = parseInt(pagUrl);\n    this.saveLocalStorage();\n  }\n    this.pag.current = (pagUrl) ? parseInt(pagUrl) : this.getLocalStorage().pagination;\n  this.pag.offset = (this.pag.current - 1) * this.pag.limit;\n  this.listPokemon();\n\n}\n}\n\n","\n<app-header-list></app-header-list>\n<app-nav-list\n  [pag]=\"pag\"\n  (pagination)=\"cntrlPages($event)\"\n  (darkEmision)=\"darkMode($event)\"\n  (listFavourites)=\"listFavourites($event)\"\n\n></app-nav-list>\n<div class=\"container-fluid\">\n  <div class=\"row py-2\">\n    <div  *ngFor=\"let pokemon of pokemonList\" class=\"col-lg-3 col-md-6 col-sm-6 py-3\">\n      <a class=\"\" [ngSwitch]=\"vista\">\n        <ng-template *ngSwitchCase=\"'card'\"></ng-template>\n        <app-card class=\"animated\"\n        [pokemonId]=\"pokemon.id\"\n        [pokemonName]=\"pokemon.name\"\n        [pokemonTypes]=\"pokemon.type\"\n        [pokemonSprite]=\"pokemon.sprite\"\n        [fav]=\"pokemon.fav\"\n        (sendFavourite)=\"checkThisLocal()\"\n      ></app-card>\n    </a>\n    </div>\n  </div>\n</div>\n\n\n<!-- (sendFav)=\"saveFavLocalStorage($event)\" -->\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}