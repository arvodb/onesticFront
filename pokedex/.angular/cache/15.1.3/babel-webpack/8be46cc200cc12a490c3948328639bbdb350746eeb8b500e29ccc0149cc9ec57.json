{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/data.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../components/header-list/header-list.component\";\nimport * as i4 from \"../../components/nav-list/nav-list.component\";\nimport * as i5 from \"../../components/card/card.component\";\nfunction ListComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵelement(1, \"app-card\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const pokemon_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"pokemon\", pokemon_r1.id);\n  }\n}\nexport class ListComponent {\n  constructor(servicio) {\n    this.servicio = servicio;\n    this.pag = {\n      offset: 0,\n      limit: 20,\n      current: 0,\n      total: 0\n    };\n    this.pokemonList = [];\n    this.pokemonListRequest = [];\n    this.pokemonName = '';\n    this.pokemonUrl = '';\n  }\n  listPokemon() {\n    this.servicio.getPagination(this.pag.offset, this.pag.limit).subscribe(response => {\n      this.pokemonListRequest = response.results;\n      this.pag.total = Math.floor(response.count / this.pag.limit);\n      this.pokemonList = [];\n      this.pokemonListRequest.map(v => {\n        this.servicio.getInfoOnePokemon(v.url).subscribe(response => {\n          this.pokemonList.push({\n            id: response.id,\n            name: response.name,\n            type: response.types,\n            sprite: response.id < 151 ? 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-i/red-blue/transparent/' + response.id + '.png' : 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/' + response.id + '.png'\n          });\n        });\n      });\n    });\n  }\n  cntrlPages(isNext) {\n    if (isNext) {\n      this.pag.current++;\n      this.pag.current < this.pag.total ? this.pag.offset += this.pag.limit : this.pag.current = this.pag.total;\n    } else if (!isNext) {\n      this.pag.current--;\n      this.pag.current > 0 ? this.pag.offset -= this.pag.limit : this.pag.current = 0;\n    }\n    this.listPokemon();\n    console.log(this.pag);\n  }\n  console() {\n    //this.listPokemon()\n    console.log(this.pokemonList);\n  }\n  ngOnInit() {\n    this.listPokemon();\n    console.log(this.pokemonList);\n  }\n}\nListComponent.ɵfac = function ListComponent_Factory(t) {\n  return new (t || ListComponent)(i0.ɵɵdirectiveInject(i1.DataService));\n};\nListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListComponent,\n  selectors: [[\"app-list\"]],\n  decls: 5,\n  vars: 1,\n  consts: [[1, \"container-fluid\"], [1, \"row\", \"py-2\"], [\"class\", \"col-lg-3 col-md-6 col-sm-12 py-3\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-lg-3\", \"col-md-6\", \"col-sm-12\", \"py-3\"], [3, \"pokemon\"]],\n  template: function ListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-header-list\")(1, \"app-nav-list\");\n      i0.ɵɵelementStart(2, \"div\", 0)(3, \"div\", 1);\n      i0.ɵɵtemplate(4, ListComponent_div_4_Template, 2, 1, \"div\", 2);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.pokemonList);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.HeaderListComponent, i4.NavListComponent, i5.CardComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ListComponent","constructor","servicio","offset","limit","current","total","listPokemon","getPagination","pag","subscribe","response","pokemonListRequest","results","Math","floor","count","pokemonList","map","v","getInfoOnePokemon","url","push","id","name","type","types","sprite","cntrlPages","isNext","console","log","ngOnInit","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["E:\\Arvo\\Documents\\DAWRepo\\onestic\\onesticFront\\pokedex\\src\\app\\views\\list\\list.component.html","E:\\Arvo\\Documents\\DAWRepo\\onestic\\onesticFront\\pokedex\\src\\app\\views\\list\\list.component.ts"],"sourcesContent":["\n<app-header-list></app-header-list>\n<app-nav-list></app-nav-list>\n<div class=\"container-fluid\">\n  <div class=\"row py-2\">\n    <div *ngFor=\"let pokemon of pokemonList\" class=\"col-lg-3 col-md-6 col-sm-12 py-3\">\n      <app-card\n        [pokemon] = \"pokemon.id\"\n      ></app-card>\n    </div>\n  </div>\n</div>\n\n\n","import { Component } from '@angular/core';\n\nimport { DataService } from 'src/app/services/data.service';\n\nimport { Detail, List } from 'src/app/interface/list';\nimport { ListPokemonInterface } from 'src/app/interface/listPokemonInterface';\n\nimport { takeUntil } from 'rxjs';\n\n\n\n\n@Component({\n  selector: 'app-list',\n  templateUrl: './list.component.html',\n  styleUrls: ['./list.component.css']\n})\nexport class ListComponent {\n  constructor(public servicio: DataService) { }\n  public pag: { offset: number, limit: number, current: number, total: number } = {\n    offset: 0, //max value = 1260\n    limit: 20,\n    current: 0, //max value = 63\n    total: 0\n  }\n  public pokemonList : ListPokemonInterface[] = []\n  public pokemonListRequest :  Detail[] = [];\n  public pokemonName: string = '';\n  public pokemonUrl: string = '';\n\n  public listPokemon() {\n    this.servicio.getPagination(this.pag.offset, this.pag.limit).subscribe((response) => {\n      this.pokemonListRequest = response.results;\n      this.pag.total = Math.floor(response.count / this.pag.limit);\n      this.pokemonList = [];\n      this.pokemonListRequest.map((v) => {\n      this.servicio.getInfoOnePokemon(v.url).subscribe((response) => {\n\n            this.pokemonList.push({\n              id: response.id,\n              name: response.name,\n              type: response.types,\n              sprite : (response.id < 151)\n                              ? 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-i/red-blue/transparent/'+response.id+'.png'\n                              : 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/'+response.id+'.png'\n        });\n      });\n    });\n  });\n}\n\n  public cntrlPages(isNext: boolean) {\n    if (isNext) {\n      this.pag.current++;\n      (this.pag.current < this.pag.total) ? this.pag.offset += this.pag.limit : this.pag.current = this.pag.total;\n    } else if (!isNext) {\n      this.pag.current--;\n      (this.pag.current > 0) ? this.pag.offset -= this.pag.limit : this.pag.current = 0\n    }\n    this.listPokemon();\n    console.log(this.pag);\n  }\n  public console() {\n    //this.listPokemon()\n    console.log(this.pokemonList)\n  }\n\n  ngOnInit(): void {\n    this.listPokemon();\n    console.log(this.pokemonList)\n\n  }\n}\n\n/*\nhttps://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-i/red-blue/transparent/1.png\nhttps://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-i/red-blue/transparent/1\n*/\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}